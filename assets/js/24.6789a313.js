(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{396:function(t,i,a){"use strict";a.r(i);var n=a(27),r=Object(n.a)({},(function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"其他上网问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他上网问题"}},[t._v("#")]),t._v(" 其他上网问题")]),t._v(" "),a("h2",{attrs:{id:"追踪ip冲突"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#追踪ip冲突"}},[t._v("#")]),t._v(" 追踪IP冲突")]),t._v(" "),a("p",[t._v("通过ping网关提示的“ping传输失败，常见故障”，在"),a("code",[t._v("ipconfig /all")]),t._v("中所显示的IP地址居然是169.254.181.73，在这地址右边括弧首选，更让人愈发莫名其妙不明所以。检查网线、网口是没问题的，把机器换到扫描仪工位启动，情况却依旧如此，可这究竟是什么问题呢？")]),t._v(" "),a("p",[t._v("就在一筹莫展之时，拔掉扫描仪主机的网线，将扫描仪主机的IP更换到我们遇到故障的当前机器上。此时使用"),a("code",[t._v("ipconfig /all")]),t._v("发现ip地址不再是169.254网段，而是我们所设置的192.168.1.xx；于是通过"),a("code",[t._v("arp -a")]),t._v("查看路由跃点找到了故障机器所设置的ip——1.99的mac地址，再ping该ip时，惊奇发现居然能ping通。由此可确定此次异常为ip冲突造成，可究竟是谁？")]),t._v(" "),a("p",[t._v("一般相当规模化的公司一般会将工位上的主机直接与姓名关联，但测试办公区域人员流动性大，测试人员因研发需求通常会自行设定ip地址，由于规定范围不是强制性措施，因此普遍自主设定ip网段数值较为随意。由于经理的IP处在测试的同网段中，IP最后的四位十进制数在随机测试IP的邻近十以内，风险性也随之增高。")]),t._v(" "),a("p",[t._v("使用飞秋输入ip地址并未查找到主机，此时1.99却能依旧ping通，于是我们使用管控端工具去锁定目标。可管控工具只能在主机在线的情况才能看到，于是打开机柜将网线插入核心交换机，将插入交换机的主机改为办公区局域网ip，"),a("code",[t._v("ping 192.168.1.99 -t")]),t._v("，逐根拔网线。")]),t._v(" "),a("p",[t._v("在此事件后，"),a("a",{attrs:{href:"https://jingyan.baidu.com/article/636f38bb82a926d6b8461081.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("百度经验-如何防止局域网IP冲突 检测并防止电脑IP冲突"),a("OutboundLink")],1),t._v("给了我很好的启发。")]),t._v(" "),a("ul",[a("li",[t._v("使用上网管控软件将IP- Mac绑定")]),t._v(" "),a("li",[t._v("路由器添加静态地址保留")])]),t._v(" "),a("h2",{attrs:{id:"小型服务器上网问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小型服务器上网问题"}},[t._v("#")]),t._v(" 小型服务器上网问题")]),t._v(" "),a("p",[t._v("同事报故障为“安卓服务器上不了网”，查看IP信息为主机内网IP，另一个网卡IP不知做什么用的，通常主机内网是需要登录上网认证的，可Linux命令行是无法完成这一操作的。网线从信息点端口接入到傻瓜交换机，服务器这边有两个网口，一个连接着交换机，一个连接着路由器，而这究竟代表什么意思呢？")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/07/13/cMWJBoiTqLnwZXl.jpg",alt:"56A154BA-4039-4F8D-BA62-AF819A8E1D93_1_105_c.jpeg"}})]),t._v(" "),a("p",[t._v("服务器一般有2-4网卡，这里的服务器有两块网卡，一个网口连接在傻瓜交换机上，另一个接到家用路由器上。一般企业上网的主机是需要进行上网终端认证的，但安卓服务器的系统是Linux命令行界面，所以没办法使用上网认证的终端，也不能登录到网页端。")]),t._v(" "),a("p",[t._v("这个时候，从傻瓜交换机的网口中接入新加入的家用路由器，将家用路由器的ip解除登录认证限制，服务器网关设置成家用路由器的IP地址，再将网口IP设置成路由器同网段内的IP。")]),t._v(" "),a("p",[t._v("从下图中可以感受到实物与拓扑之间的差异，拓扑是条理清晰的，实体由于环境需要被重新规划部署多根网线连接到其他主机或服务器，就显得有些杂乱无章。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/07/13/ML7DuwlTgJCdnYz.png",alt:"截屏2021-07-13 下午4.40.39.png"}})]),t._v(" "),a("p",[t._v("关于Linux的网络配置修改可参考："),a("a",{attrs:{href:"https://www.cnblogs.com/shuaixf/archive/2011/11/29/2267863.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("shuaixf-Linux修改网络配置"),a("OutboundLink")],1)])])}),[],!1,null,null,null);i.default=r.exports}}]);